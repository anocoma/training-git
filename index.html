<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seat Layout</title>
    <style>
        .seat {
            display: inline-block;
            width: 30px;
            height: 30px;
            margin: 5px;
            text-align: center;
            line-height: 30px;
            border: 1px solid #333;
            cursor: pointer;
        }
        .regular { background-color: #f0f0f0; }
        .available { background-color: #00ff00; }
        .gap {
            display: inline-block;
            width: 30px;
            height: 30px;
            margin: 5px;
        }
        .row {
            display: flex;
            justify-content: center;
            margin-bottom: 10px;
        }
        .couple {
            width: 65px;
        }
    </style>
</head>
<body>
    <h1>Seat Layout for Room A</h1>
    <div id="seatLayout"></div>

    <script>
        const data = {
            "cinema_room": {
                "id": 1,
                "name": "Room A",
                "seats": [
                    {"row": "A", "number": 1, "type": "Regular", "status": "Available"},
                    {"row": "A", "number": 2, "type": "Regular", "status": "Available"},
                    {"row": "A", "number": 3, "type": "Regular", "status": "Available"},
                    {"row": "A", "number": 4, "type": "Regular", "status": "Available"},
                    {"row": "A", "number": 5, "type": "Regular", "status": "Available"},
                    {"row": "B", "number": 1, "type": "Regular", "status": "Available"},
                    {"row": "B", "number": 2, "type": "Couple", "status": "Available"},
                    {"row": "B", "number": 3, "type": "Couple", "status": "Available"},
                    {"row": "B", "number": 4, "type": "Regular", "status": "Available"},
                    {"row": "B", "number": 5, "type": "Regular", "status": "Available"}
                ],
                "layout": {
                    "rows": 2,
                    "columns": 5,
                    "gap": {"row": null, "column": 4}
                }
            }
        };

        const seatLayout = document.getElementById('seatLayout');
        const layout = data.cinema_room.layout;

        const seats = data.cinema_room.seats.reduce((acc, seat) => {
            if (!acc[seat.row]) acc[seat.row] = [];
            acc[seat.row].push(seat);
            return acc;
        }, {});

        for (let row in seats) {
            const rowDiv = document.createElement('div');
            rowDiv.classList.add('row');

            seats[row].forEach((seat, index) => {
                if (layout.gap.column && index === layout.gap.column - 1) {
                    const gapDiv = document.createElement('div');
                    gapDiv.classList.add('gap');
                    rowDiv.appendChild(gapDiv);
                }

                const seatDiv = document.createElement('div');
                seatDiv.classList.add('seat');
                seatDiv.classList.add(seat.type.toLowerCase());
                seatDiv.classList.add(seat.status.toLowerCase());
                seatDiv.textContent = `${seat.row}${seat.number}`;
                if (seat.type === "Couple") {
                    seatDiv.classList.add('couple');
                    seatDiv.style.width = '65px';
                }
                rowDiv.appendChild(seatDiv);
            });

            seatLayout.appendChild(rowDiv);
        }
    </script>
</body>
</html>
